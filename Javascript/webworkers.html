<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>WebWorkers</title>
</head>
<body>

	<p>Count: <div id="result"></div></p>
	<button onclick="startWorker();">Start</button>
	<button onclick="stopWorker();">Stop</button>

	<hr>

	<p>Count: <div id="result1"></div></p>
	<button onclick="startWorker1();">Start</button>
	<button onclick="stopWorker1();">Stop</button>

	<script>
		var w1 = undefined;
		var w2 = undefined;
		function startWorker() {
			if (typeof(w1) == "undefined") {
				w1 = new Worker("demoWorker.js");
				w1.onmessage = function(event) {
					document.getElementById("result").innerHTML = event.data;
				}
			}
			else {
				alert("Unsupported WebWorkers!");
			}
		}

		function stopWorker() {
			w1.terminate();
			w1 = undefined;
		}

		/* 2 */
		function startWorker1() {
			if (typeof(w2) == "undefined") {
				w2 = new Worker("demoWorker.js");
				w2.onmessage = function(event) {
					document.getElementById("result1").innerHTML = event.data;
				}
			}
			else {
				alert("Unsupported WebWorkers!");
			}
		}

		function stopWorker1() {
			w2.terminate();
			w2 = undefined;
		}
	</script>

</body>
</html>